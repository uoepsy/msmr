{
  "hash": "9c90efdf558d170b156cac488880dc8a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Week 5 Exercises: Assumptions, Diagnostics, Writing up\"\nparams: \n    SHOW_SOLS: FALSE\n    TOGGLE: TRUE\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n\n\n# Video game aggression and the dark triad \n\n:::frame\n__Dataset: NGV.csv__  \n\nThese data are from an experiment designed to investigate how the realism of video games is associated with more/less unnecessarily aggressive gameplay, and whether this differs depending upon a) the playing mode (playing on a screen vs VR headset), and b) individual differences in the 'dark triad' personality traits.  \n\nThe experiment involved playing 10 levels of a game in which the objective was to escape a maze. Various obstacles and other characters were present throughout the maze, and players could interact with these by side-stepping or jumping over them, or by pushing or shooting at them. All of these actions took the same amount of effort to complete (pressing a button), and each one achieved the same end (moving beyond the obstacle and being able to continue through the maze).  \n\nEach participant completed all 10 levels twice, once in which all characters were presented as cartoons, and once in which all characters were presented as realistic humans and animals. The layout of the level was identical in both, the only difference being the depiction of objects and characters. For each participant, these 20 levels ($2 \\times 10$ mazes) were presented in a random order. Half of the participants played via a screen, and the other half played via a VR headset. For each level played, we have a record of \"needless game violence\" (NGV) which was calculated via the number of aggressive (pushing/shooting) actions taken (+0.5 for every action that missed an object, +1 for every action aimed at an inanimate object, and +2 for every action aimed at an animate character).  \nPrior to the experiment, each participant completed the Short Dark Triad 3 (SD-3), which measures the three traits of machiavellianism, narcissism, and psychopathy.  \n\n**Dataset:** [https://uoepsy.github.io/data/NGV.csv](https://uoepsy.github.io/data/NGV.csv){target=\"_blank\"}\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"mfjemdyxyh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#mfjemdyxyh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#mfjemdyxyh thead, #mfjemdyxyh tbody, #mfjemdyxyh tfoot, #mfjemdyxyh tr, #mfjemdyxyh td, #mfjemdyxyh th {\n  border-style: none;\n}\n\n#mfjemdyxyh p {\n  margin: 0;\n  padding: 0;\n}\n\n#mfjemdyxyh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#mfjemdyxyh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#mfjemdyxyh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#mfjemdyxyh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#mfjemdyxyh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#mfjemdyxyh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#mfjemdyxyh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#mfjemdyxyh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#mfjemdyxyh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#mfjemdyxyh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#mfjemdyxyh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#mfjemdyxyh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#mfjemdyxyh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#mfjemdyxyh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#mfjemdyxyh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfjemdyxyh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#mfjemdyxyh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#mfjemdyxyh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#mfjemdyxyh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfjemdyxyh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#mfjemdyxyh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfjemdyxyh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#mfjemdyxyh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfjemdyxyh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mfjemdyxyh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfjemdyxyh .gt_left {\n  text-align: left;\n}\n\n#mfjemdyxyh .gt_center {\n  text-align: center;\n}\n\n#mfjemdyxyh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#mfjemdyxyh .gt_font_normal {\n  font-weight: normal;\n}\n\n#mfjemdyxyh .gt_font_bold {\n  font-weight: bold;\n}\n\n#mfjemdyxyh .gt_font_italic {\n  font-style: italic;\n}\n\n#mfjemdyxyh .gt_super {\n  font-size: 65%;\n}\n\n#mfjemdyxyh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#mfjemdyxyh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#mfjemdyxyh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#mfjemdyxyh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#mfjemdyxyh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#mfjemdyxyh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#mfjemdyxyh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#mfjemdyxyh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#mfjemdyxyh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"variable\">variable</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"description\">description</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">PID</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Participant number</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">age</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Participant age (years)</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">level</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Maze level (1 to 10)</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">character</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Whether the objects and characters in the level were presented as 'cartoon' or as 'realistic'</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">mode</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Whether the participant played via a screen or with a VR headset</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">P</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Psycopathy Trait from SD-3 (score 1-5)</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">N</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Narcissism Trait from SD-3 (score 1-5)</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">M</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Machiavellianism Trait from SD-3 (score 1-5)</td></tr>\n    <tr><td headers=\"variable\" class=\"gt_row gt_left\">NGV</td>\n<td headers=\"description\" class=\"gt_row gt_left\">Needless Game Violence metric</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\n:::\n\n\n\n<div class='question-begin'>Question 1</div><div class='question-body'>\n\n\nConduct an analysis to address the research aims!  \n\n\n::: {.callout-tip collapse=\"true\"}\n#### Hints\n\n- There's a lot to unpack in the research aim: _\"how the realism of video games is associated with more/less unnecessarily aggressive gameplay, and whether this differs depending upon a) the playing mode (playing on a screen vs VR headset), and b) individual differences in the 'dark triad' personality traits.\"_    \n\n\n:::\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n<div style=\"display:none;\">\n\n\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nngv <- read_csv(\"https://uoepsy.github.io/data/NGV.csv\")\n```\n:::\n\n\n\n\nLet's make things factors and see where we stand: \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nngv <- ngv |> \n  mutate(\n    PID = factor(PID),\n    level = factor(level),\n    character = factor(character),\n    mode = factor(mode)\n  )\n\nsummary(ngv)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      PID            age            level         character       mode    \n ppt_1  :  20   Min.   :18.00   level1 :152   cartoon  :760   Screen:740  \n ppt_10 :  20   1st Qu.:28.00   level10:152   realistic:760   VR    :780  \n ppt_11 :  20   Median :36.50   level2 :152                               \n ppt_12 :  20   Mean   :34.99   level3 :152                               \n ppt_13 :  20   3rd Qu.:42.25   level4 :152                               \n ppt_14 :  20   Max.   :48.00   level5 :152                               \n (Other):1400                   (Other):608                               \n       P               N               M              NGV        \n Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   : 0.000  \n 1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.: 8.875  \n Median :2.000   Median :3.000   Median :3.000   Median :11.000  \n Mean   :2.171   Mean   :2.763   Mean   :2.842   Mean   :10.788  \n 3rd Qu.:2.000   3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:13.000  \n Max.   :5.000   Max.   :5.000   Max.   :5.000   Max.   :29.000  \n                                                                 \n```\n\n\n:::\n:::\n\n\n\n\neverything looks good to me! All ranges looks fine.  \n\nHow many people do we have? \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndim(table(ngv$PID, ngv$character))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 76  2\n```\n\n\n:::\n:::\n\n\n\n76!  \nDoes everyone have 10 datapoints for cartoon and 10 for realistic?  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nany(table(ngv$PID, ngv$character)!=10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n:::\n\n\n\nyes, they do!  \n\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n<div style=\"display:none;\">\n\n\n\nOkay. Let's plot.. \nThe question asks about _\"how the realism of video games is associated with more/less unnecessarily aggressive gameplay\"_.  \n\nSo we'll put the `character` on the x-axis and our outcome `NGV` on the y:  \nI like jitters, but you could put boxplots or violin plots too!  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(ngv, aes(x = character, y = NGV)) +\n  geom_jitter(height=0, width=.2, alpha=.2)\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nWe're also interested in whether this differs depending on the mode of gameplay (screen vs VR headset). So we could facet_wrap perhaps? or colour?  \nLet's also plot the means - i'll put those to the side of all the jittered points with a \"nudge\".. \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(ngv, aes(x = character, y = NGV, col = mode)) +\n  geom_jitter(height=0, width=.2, alpha=.2) +\n  stat_summary(geom=\"pointrange\", position = position_nudge(x=.25))\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-7-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nAs well as looking at whether the `NGV~character` relationship differs between modes, we're also interested in the differences in this relationship due to individual differences in the dark triad personality traits. We have these measured for each person, so we can just use a similar idea:  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(ngv, aes(x = character, y = NGV, col = factor(P))) +\n  geom_jitter(height=0, width=.2, alpha=.2) +\n  stat_summary(geom=\"pointrange\", position = position_nudge(x=.25))\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=80%}\n:::\n\n```{.r .cell-code}\nggplot(ngv, aes(x = character, y = NGV, col = factor(M))) +\n  geom_jitter(height=0, width=.2, alpha=.2) +\n  stat_summary(geom=\"pointrange\", position = position_nudge(x=.25))\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-8-2.png){fig-align='center' width=80%}\n:::\n\n```{.r .cell-code}\nggplot(ngv, aes(x = character, y = NGV, col = factor(N))) +\n  geom_jitter(height=0, width=.2, alpha=.2) +\n  stat_summary(geom=\"pointrange\", position = position_nudge(x=.25))\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-8-3.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nWhat do we get from all these plots? Well, it looks like mode _might_ be changing the relationship between character and violence. \nIt also looks like there's a considerable effect of the dark triad on the amount of violence people use! Of course, in these individual plots, it's hard to ascertain the extent to which plots showing differences between levels of Narcissism are due to Narcissism or due to differences in Psychopathy (all the dark triad traits are fairly correlated)\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nngv |> select(P,N,M) |>\n  cor() |> round(2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     P    N    M\nP 1.00 0.43 0.51\nN 0.43 1.00 0.58\nM 0.51 0.58 1.00\n```\n\n\n:::\n:::\n\n\n\n\nSo we need to do some modelling! \n\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n<div style=\"display:none;\">\n\n\n\n__NOTE:__ This is how I might approach this question. There are lots of other things that we could quite sensibly do!  \n\n\n- We know that we're interested in `NGV ~ character`.  \n- We also have the additional question of whether this is different between modes - `NGV ~ character * mode`.  \n- And whether the `NGV ~ character` association is modulated by Psychopathy `NGV ~ character * P`, and by Narcissism `NGV ~ character * N`, and by Machiavellianism `NGV ~ character * M`.  \n\nWe could fit these all in one:  \n`NGV ~ character * (mode + P + M + N)`  \n\nWe have multiple observations per participant `PID`, and we also have multiple observations for each level `level`. All participants see every level, and every level is seen by all participants. It's not the case that a level is unique to a single participant, so these are _crossed_.  \n`( ?? | PID) + ( ?? | level)`  \n\nParticipants plays both the cartoon and the realistic versions, so we could have variation between participants in how realism affects violence - `(1 + character | PID)`. Beyond this, all variables are measured at the participant level, so we can't have anything else.  \n\nFor the levels, each level is played by some participants in VR headsets and some participants on a screen, so we could have some levels for which VR feels very different (and makes you play more violently?) - `(mode | level)`.  We could also have some levels for which the realism has a bigger effect - `(character | level)`, and also have some levels for which people high on the dark triad play differently - i.e. the dark triad could result in lots of violence in level 2, but not in level 3 - `(P + M + N | level)`.  \n\n_(you could also try to fit the interactions in the random effects here but i'm not going to even try!)_  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm0 = lmer(NGV ~ character * (mode + P + M + N) + \n            (1 + character | PID) + \n            (1 + character + mode + P + M + N | level), data = ngv)\n```\n:::\n\n\n\n\nafter some simplification, I end up at the model below. You might end up at a slightly different random effect structure, and that is completely okay! The important thing is to be transparent in your decisions.  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm1 = lmer(NGV ~ character * (mode + P + M + N) + \n            (1 + character | PID) + \n            (1 + mode | level), data = ngv)\n```\n:::\n\n\n\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n<div class='question-begin'>Question 2</div><div class='question-body'>\n\n\nCheck the assumptions of your model\n\n\n::: {.callout-tip collapse=\"true\"}\n#### Hints\n\nWe have a multilevel model, so we have assumptions at multiple levels! See [Chapter 9 #mlm-assumptions-diagnostics](https://uoepsy.github.io/lmm/09_assump.html#mlm-assumptions-diagnostics){target=\"_blank\"}.  \n\nBe careful - QQplots with few datapoints can make things look weirder than they are - try a histogram too \n\n\n:::\n\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n<div style=\"display:none;\">\n\n\nHere are some assumption plots: \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nplot(m1)\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-12-1.png){fig-align='center' width=80%}\n:::\n\n```{.r .cell-code}\nplot(m1,\n     form = sqrt(abs(resid(.))) ~ fitted(.),\n     type = c(\"p\",\"smooth\"))\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-12-2.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nThere's something weird going on in the left hand side with a bunch of points looking funny! My guess is that this may well come out when examining influence. \n\nIn the QQplots of the random effects below we can see a couple of participants are a bit off - this may well be what we are seeing above.  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nqqnorm(ranef(m1)$PID[,1],main=\"1|PID\");qqline(ranef(m1)$PID[,1])\nqqnorm(ranef(m1)$PID[,2],main=\"character|PID\");qqline(ranef(m1)$PID[,2])\nqqnorm(ranef(m1)$level[,1],main=\"1|level\");qqline(ranef(m1)$level[,1])\nqqnorm(ranef(m1)$level[,2],main=\"mode|level\");qqline(ranef(m1)$level[,2])\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-13-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nThe QQplots for the level random effects are hard to evaluate in part because there aren't many levels (only 10). Let's do some histograms too. They don't look _terrible_.. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nhist(ranef(m1)$PID[,1],main=\"1|PID\")\nhist(ranef(m1)$PID[,2],main=\"character|PID\")\nhist(ranef(m1)$level[,1],main=\"1|level\")\nhist(ranef(m1)$level[,2],main=\"mode|level\")\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-14-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nOur model predictions don't look great either. Something is happening at values of 0?  \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(performance)\ncheck_predictions(m1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nWarning: Maximum value of original data is not included in the\n  replicated data.\n  Model may not capture the variation of the data.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-15-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n\n\n<div class='question-begin'>Question 3</div><div class='question-body'>\n\n\nCheck the extent to which your results may be sensitive to certain influential observations, or participants, or levels!  \n\n\n::: {.callout-tip collapse=\"true\"}\n#### Hints\n\nSee [Chapter 9 #influence](https://uoepsy.github.io/lmm/09_assump.html#influence){target=\"_blank\"} for two packages that can assess influence. \n\n:::\n\n\n\n\n</div><p class=\"question-end\"></p>\n\n\n\n\n<div style=\"display:none;\">\n\n\n\nlet's check for influential participants first:  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(HLMdiag)\ninf2 <- hlm_influence(m1,level=\"PID\")\ndotplot_diag(inf2$cooksd, index=inf2$PID, cutoff=\"internal\")\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-16-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nand let's re-fit without those two weird people.. \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm1a <- lmer(NGV ~ character * (mode + P + M + N) + \n            (1 + character | PID) + \n            (1 + mode | level), \n            data = ngv |> filter(!(PID %in% c(\"ppt_59\",\"ppt_53\"))))\n```\n:::\n\n\n\n\nOur conclusions change!  \nThe significance of `P` (which is the association between psychopathy and needless violence in the cartoon condition) depends upon exclusion of these two participants. \nI'm showing the table with Satterthwaite p-values as it's a bit quicker, but given that we have only 10 groups for the `level` random effect, it might be worth switching to KR\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(sjPlot)\ntab_model(m1,m1a, df.method=\"satterthwaite\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">NGV</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">NGV</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7\">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">6.25</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.14&nbsp;&ndash;&nbsp;9.35</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">5.52</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">3.10&nbsp;&ndash;&nbsp;7.93</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">character [realistic]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;2.98</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;4.48&nbsp;&ndash;&nbsp;-1.49</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;2.98</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;4.50&nbsp;&ndash;&nbsp;-1.45</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">mode [VR]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.00</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;2.34&nbsp;&ndash;&nbsp;0.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.140</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.36</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.41&nbsp;&ndash;&nbsp;0.70</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">P</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.90</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.29&nbsp;&ndash;&nbsp;2.08</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.135</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.19</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.25&nbsp;&ndash;&nbsp;2.13</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>0.014</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.89</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.20&nbsp;&ndash;&nbsp;1.97</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.107</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.81</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.03&nbsp;&ndash;&nbsp;1.65</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.060</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">N</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.22</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.90&nbsp;&ndash;&nbsp;1.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.693</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.58&nbsp;&ndash;&nbsp;1.24</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.470</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">character [realistic] ×<br>mode [VR]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.41</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.05&nbsp;&ndash;&nbsp;0.23</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.206</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.40</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.06&nbsp;&ndash;&nbsp;0.26</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.228</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">character [realistic] × P</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.76</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.19&nbsp;&ndash;&nbsp;1.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.010</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.79</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.19&nbsp;&ndash;&nbsp;1.38</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>0.010</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">character [realistic] × M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.52</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.00&nbsp;&ndash;&nbsp;1.04</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.051</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.53</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.01&nbsp;&ndash;&nbsp;1.06</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.053</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">character [realistic] × N</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.00</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.54&nbsp;&ndash;&nbsp;0.54</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.988</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.03</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.61&nbsp;&ndash;&nbsp;0.55</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.920</td>\n</tr>\n<tr>\n<td colspan=\"7\" style=\"font-weight:bold; text-align:left; padding-top:.8em;\">Random Effects</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&sigma;<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">3.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">3.41</td>\n</tr>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>00</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">7.91 <sub>PID</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">4.58 <sub>PID</sub></td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.06 <sub>level</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.06 <sub>level</sub></td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&tau;<sub>11</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">1.26 <sub>PID.characterrealistic</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">1.29 <sub>PID.characterrealistic</sub></td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.05 <sub>level.modeVR</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.05 <sub>level.modeVR</sub></td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">&rho;<sub>01</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">-0.11 <sub>PID</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">-0.18 <sub>PID</sub></td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">-0.51 <sub>level</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">-0.45 <sub>level</sub></td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">ICC</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.71</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.59</td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">N</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">76 <sub>PID</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">74 <sub>PID</sub></td>\n\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">10 <sub>level</sub></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">10 <sub>level</sub></td>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">1520</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">1480</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.226 / 0.777</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.306 / 0.714</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n\n\n\nNote that our model predictions look much better\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ncheck_predictions(m1a)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nWarning: Maximum value of original data is not included in the\n  replicated data.\n  Model may not capture the variation of the data.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-19-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nIf we look at those two people - they just didn't do much (or any) \"needless game violence\".  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nngv |> filter(PID %in% c(\"ppt_59\",\"ppt_53\")) |>\n  ggplot(aes(x=character, y=NGV)) +\n  geom_jitter(height=0, width=.2) + \n  facet_wrap(~PID)\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-20-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nLet's check for influential levels now:  \n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ninf3 <- hlm_influence(m1a,level=\"level\")\ndotplot_diag(inf3$cooksd)\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-21-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\nand for influential observations\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ninf1 <- hlm_influence(m1a,level=1)\ndotplot_diag(inf1$cooksd)\n```\n\n::: {.cell-output-display}\n![](05ex_files/figure-html/unnamed-chunk-22-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n\n\n\n\n</div><p class=\"solution-end\"></p>\n\n\n\n<br>\n<div class=\"divider div-transparent div-dot\"></div>\n\n\n\n# All the datasets!  \n\nThe link below will take you to a page with all the datasets that we have seen across the readings and exercises, as well as a few extra ones that should be new! For each one, there is a quick explanation of the study design which also details the research aims of the project.  \n\n- [DATASETS PAGE](https://uoepsy.github.io/lmm/00_datasets.html){target=\"_blank\"}\n  \nPick one of the datasets and: \n\n1. explore the data, and do any required cleaning (most of them are clean already)\n2. conduct an analysis to address the research aims\n3. write a short description of the sample data [(see Chapter 11 #the-sample-data)](https://uoepsy.github.io/lmm/11_writing.html#the-sample-data){target=\"_blank\"}\n4. write a short explanation of your methods [(see Chapter 11 #the-methods)](https://uoepsy.github.io/lmm/11_writing.html#the-methods){target=\"_blank\"}\n5. write a short summary of your results, along with suitable visualisations and tables [(see Chapter 11 #the-results)](https://uoepsy.github.io/lmm/11_writing.html#the-results){target=\"_blank\"}\n6. Post some of your writing on Piazza and we can collectively discuss it!  \n\nIf you like, work on this as a group - set up a google doc to collaboratively write together (it's much more fun that way!)\n\n\n\n\n",
    "supporting": [
      "05ex_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/panelset-0.3.0/panelset.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/panelset-0.3.0/panelset.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}